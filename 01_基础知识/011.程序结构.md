## 1.全局变量
- 定义在函数外面的变量是全局变量，具有全局的生存期与作用域
- 没有做初始化的全局变量会得到0值，指针会得到null;对比本地变量，如果未进行初始化就直接使用的话，可能是一个奇怪的值
- 只能用编译时刻已知的变量来初始化全局变量
## 2.静态本地变量
```c
int gAll = 12;
int main() {
    f();
    return 0;
}
void f() {
    int k = 0;
    static int all = 10;
    printf("k=%p\n",&k);
    printf("gAll=%p\n",&gAll);
    printf("all=%p\n",&all);
}
```
- 静态本地变量实际上是特殊的全局变量
- 他们位于相同的内存域；
- 静态变量具有全局的生存期，函数内的局部作用域
## 3.返回指针的函数
- 返回本地变量的地址是危险的，因为一旦离开这个函数，本地变量就不存在了，其所占用的地址会被重新分配
- 尽量避免使用全局变量，使用全局变量和静态本地变量的函数是线程不安全的
## 4.编译预处理和宏
- #开头的是编译预处理指令
- #define用来定义一个宏，#define <名字> <值>，注意结尾没有分号，因为不是C的语句
> 在C语言的编译器开始编译之前，编译预处理程序会把程序中的名字换成值，完全的文本替换；
> 如果一个宏中的值中与其他的宏的名字，也是会被替换的；如果一个宏的值超过一行，最后一行之前的行末需要加\
```c
#define PI 3.14
#define PI2 2*PI
#define PRT printf("Hello\n");\
            printf("Hi");   //后面出现的注释不会被当作宏的值的一部分
```
- 没有值的宏，用于条件编译 #define _DEBUG
- 预定义的宏：
```c
__FILE__  
__LINE__
```
- 像函数的宏
```c
#define cube(x) ((x)*(x)*(x))
int main() {
    printf("%d",cube(5)); //((x)*(x)*(x)) -> ((5)*(5)*(5))  谨防错误定义的宏，如果x不加括号，cube(5+2)就变成5+2*5+2*5+2
}
```
> 带参数的宏的原则：一切都要有括号，整个值要有括号，参数出现的每个地方都要有括号
## 5.大程序结构
> 编译单元：一个.c文件是一个编译单元；编译器每次编译只处理一个编译单元 

> 项目：在Dev C++中新建一个项目，然后把几个源代码文件加入进去；对于项目，Dev C++的编译会把一个项目中所有的源代码文件都编译后链接起来，而有的IDE分为编译和构建两个按钮，前者是对单个源代码文件进行编译，后者是对整个项目做链接

> 函数原型：如果不给出函数原型，编译器会去猜测调用函数的返回类型和参数类型，编译器在编译的时候只看当前的一个编译单元，不会去看同一个项目下的其他编译单元以找出那个函数原型，程序链接的时候不会出错，但是执行的时候可能因为类型不对应而报错，所以需要在调用函数的地方给出原型。
 
> 头文件：把函数原型放到一个头文件中，在需要调用这个函数的源代码文件中`#include`这个头文件，就能让编译器在编译的时候知道函数的原型

> #include: 是一个编译预处理命令，它把那个文件的全部文本内容原封不动的插入到他所在的地方；有两种方式来指出要插入的文件，""编译器首先在当前目录寻找这个文件，如果没有到编译器指定目录去找；<>让编译器到指定的目录去找；在使用和定义这个函数的地方都应该#include这个头文件，一般的做法是任何.c文件都有对应的同名的.h，把所有对外公开的函数的原型和全局变量的声明都放进去

> #include误区：不是用来引入库的，只是把头文件内容插入到他所在的地方

> 不对外公开的函数：在函数前面加上static就使得他成为只能在所在的编译单元可以使用的函数；在全局变量前面加上static成为他所在的编译单元可以使用的全局变量
- 变量的声明：
```c
int i;//变量的定义
extern int j;//变量的声明
```
> 声明和定义：声明是不产生代码的东西；定义是产生代码的东西

> 重复声明：同一个编译单元里，同名的结构不能被重复声明，如果头文件中有关于结构的声明，很难保证这个头文件不会在一个编译单元里被#include多次，因为可能出现一个头文件include另一个头文件，最后在main.c中includ两个头文件，需要标准头文件结构

- 标准头文件结构：运用条件编译和宏，保证这个头文件在一个编译单元里只会include一次
```c
#ifndef __MAX__
#define __MAX__
typedef struct _Date{
    int month;  
} Date;
#endif
```